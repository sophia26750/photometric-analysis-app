<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            background-color: black;
            color: white;
            font-family: Arial, Helvetica, sans-serif;
            text-align: center;
        }
    </style>
</head>
<body>

    <a href="/" style="color:white; text-decoration:none;">Back to Home</a>
    <br><br>
    <h1>Object Calibration Page</h1>
    <p>You can calibrate one object here.</p>

    <div class="center-heading">
        <p>
            Please indicate if you have a Sloan g image, Sloan r image, or both:
        </p>
    </div>

    <!-- IMPORTANT: These buttons must NOT be inside a form -->
    <button onclick="showInput('g')">Sloan g</button>
    <button onclick="showInput('r')">Sloan r</button>
    <button onclick="showInput('both')">Both</button>

    <!-- Hidden input sections -->
    <!-- Sloan g input -->
    <form method="POST">
        <div id="g_input" style="display:none; margin-top:15px;">
            <label>Enter Sloan g image link:</label><br>
            <input type="text" name="calibration_input">
            <input type="submit" value="Submit">
        </div>
    </form>

    <!-- Sloan r input -->
    <form method="POST">
        <div id="r_input" style="display:none; margin-top:15px;">
            <label>Enter Sloan r image link:</label><br>
            <input type="text" name="calibration_input">
            <input type="submit" value="Submit">
        </div>
    </form>

    <!-- Both inputs -->
    <form method="POST">
        <div id="both_input" style="display:none; margin-top:15px;">
            <p> Please input both links before pressing Submit! <p>
            <label>Enter Sloan g image link:</label><br>
            <input type="text" name="g_link_both"><br><br>

            <label>Enter Sloan r image link:</label><br>
            <input type="text" name="r_link_both"><br><br>

            <input type="submit" value="Submit Both">
        </div>
    </form>



    <script>
        function showInput(which) {
            document.getElementById("g_input").style.display = "none";
            document.getElementById("r_input").style.display = "none";
            document.getElementById("both_input").style.display = "none";

            if (which === "g") {
                document.getElementById("g_input").style.display = "block";
            } else if (which === "r") {
                document.getElementById("r_input").style.display = "block";
            } else if (which === "both") {
                document.getElementById("both_input").style.display = "block";
            }
        }
    </script>

    {% if user_text %}
        <div style="margin-top:20px;">
            You entered: {{ user_text }}
        </div>
    {% endif %}


    {% if g_text and r_text %}
        <div style="margin-top:20px;">
            You entered:<br>
            Sloan g: {{ g_text }}<br>
            Sloan r: {{ r_text }}
        </div>
    {% endif %}

    {% if green_flux and red_flux %}
        <div style="margin-top:20px;">
            <h3>Calibration Results</h3>
            Green Flux: {{ green_flux }}<br>
            Red Flux: {{ red_flux }}<br>
            RA List: {{ ra_list }}<br>
            Dec List: {{ dec_list }}<br>
            g Magnitude: {{ g }}<br>
            r Magnitude: {{ r }}<br>
        </div>
    {% endif %}



</body>
</html>
